// Time module test
// Demonstrates std.time functions: now(), sleep(), elapsed()

effect fn main() -> void {
    std.io.println("Testing std.time module...")

    // Test now() - get current timestamp
    let start: i64 = std.time.now()
    std.io.println("Start timestamp: " + std.int.to_string(start))

    // Test sleep() - pause execution
    std.io.println("Sleeping for 100ms...")
    std.time.sleep(100)

    // Get end timestamp
    let end: i64 = std.time.now()
    std.io.println("End timestamp: " + std.int.to_string(end))

    // Test elapsed() - calculate difference
    let elapsed: i64 = std.time.elapsed(start, end)
    std.io.println("Elapsed time: " + std.int.to_string(elapsed) + " ms")

    // Verify elapsed is approximately 100ms (with some tolerance)
    if elapsed >= 90 {
        std.io.println("Success: sleep duration is correct!")
    } else {
        std.io.println("Warning: elapsed time seems too short")
    }
}
